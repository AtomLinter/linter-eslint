"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.hasValidScope = exports.throwIfInvalidPoint = exports.isValidPoint = void 0;

var _throw = _interopRequireDefault(require("./throw"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const isValidPoint = (textBuffer, line, column) => {
  // Clip the given point to a valid one
  const validPoint = textBuffer.clipPosition([line, column]); // Compare to original

  return validPoint.isEqual([line, column]);
};

exports.isValidPoint = isValidPoint;

const throwIfInvalidPoint = (textBuffer, line, column) => (0, _throw.default)(`${line}:${column} isn't a valid point!`, isValidPoint(textBuffer, line, column));

exports.throwIfInvalidPoint = throwIfInvalidPoint;

const hasValidScope = (editor, validScopes) => editor.getCursors().some(cursor => cursor.getScopeDescriptor().getScopesArray().some(scope => validScopes.includes(scope)));

exports.hasValidScope = hasValidScope;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy92YWxpZGF0ZS9lZGl0b3IuanMiXSwibmFtZXMiOlsiaXNWYWxpZFBvaW50IiwidGV4dEJ1ZmZlciIsImxpbmUiLCJjb2x1bW4iLCJ2YWxpZFBvaW50IiwiY2xpcFBvc2l0aW9uIiwiaXNFcXVhbCIsInRocm93SWZJbnZhbGlkUG9pbnQiLCJoYXNWYWxpZFNjb3BlIiwiZWRpdG9yIiwidmFsaWRTY29wZXMiLCJnZXRDdXJzb3JzIiwic29tZSIsImN1cnNvciIsImdldFNjb3BlRGVzY3JpcHRvciIsImdldFNjb3Blc0FycmF5Iiwic2NvcGUiLCJpbmNsdWRlcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRU8sTUFBTUEsWUFBWSxHQUFHLENBQUNDLFVBQUQsRUFBYUMsSUFBYixFQUFtQkMsTUFBbkIsS0FBOEI7QUFDeEQ7QUFDQSxRQUFNQyxVQUFVLEdBQUdILFVBQVUsQ0FBQ0ksWUFBWCxDQUF3QixDQUFDSCxJQUFELEVBQU9DLE1BQVAsQ0FBeEIsQ0FBbkIsQ0FGd0QsQ0FHeEQ7O0FBQ0EsU0FBT0MsVUFBVSxDQUFDRSxPQUFYLENBQW1CLENBQUNKLElBQUQsRUFBT0MsTUFBUCxDQUFuQixDQUFQO0FBQ0QsQ0FMTTs7OztBQU9BLE1BQU1JLG1CQUFtQixHQUFHLENBQUNOLFVBQUQsRUFBYUMsSUFBYixFQUFtQkMsTUFBbkIsS0FDakMsb0JBQ0csR0FBRUQsSUFBSyxJQUFHQyxNQUFPLHVCQURwQixFQUVFSCxZQUFZLENBQUNDLFVBQUQsRUFBYUMsSUFBYixFQUFtQkMsTUFBbkIsQ0FGZCxDQURLOzs7O0FBTUEsTUFBTUssYUFBYSxHQUFHLENBQUNDLE1BQUQsRUFBU0MsV0FBVCxLQUF5QkQsTUFBTSxDQUFDRSxVQUFQLEdBQ25EQyxJQURtRCxDQUM5Q0MsTUFBTSxJQUFJQSxNQUFNLENBQUNDLGtCQUFQLEdBQ2JDLGNBRGEsR0FFYkgsSUFGYSxDQUVSSSxLQUFLLElBQUlOLFdBQVcsQ0FBQ08sUUFBWixDQUFxQkQsS0FBckIsQ0FGRCxDQURvQyxDQUEvQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0aHJvd0lmRmFpbCBmcm9tICcuL3Rocm93J1xuXG5leHBvcnQgY29uc3QgaXNWYWxpZFBvaW50ID0gKHRleHRCdWZmZXIsIGxpbmUsIGNvbHVtbikgPT4ge1xuICAvLyBDbGlwIHRoZSBnaXZlbiBwb2ludCB0byBhIHZhbGlkIG9uZVxuICBjb25zdCB2YWxpZFBvaW50ID0gdGV4dEJ1ZmZlci5jbGlwUG9zaXRpb24oW2xpbmUsIGNvbHVtbl0pXG4gIC8vIENvbXBhcmUgdG8gb3JpZ2luYWxcbiAgcmV0dXJuIHZhbGlkUG9pbnQuaXNFcXVhbChbbGluZSwgY29sdW1uXSlcbn1cblxuZXhwb3J0IGNvbnN0IHRocm93SWZJbnZhbGlkUG9pbnQgPSAodGV4dEJ1ZmZlciwgbGluZSwgY29sdW1uKSA9PiAoXG4gIHRocm93SWZGYWlsKFxuICAgIGAke2xpbmV9OiR7Y29sdW1ufSBpc24ndCBhIHZhbGlkIHBvaW50IWAsXG4gICAgaXNWYWxpZFBvaW50KHRleHRCdWZmZXIsIGxpbmUsIGNvbHVtbilcbiAgKSlcblxuZXhwb3J0IGNvbnN0IGhhc1ZhbGlkU2NvcGUgPSAoZWRpdG9yLCB2YWxpZFNjb3BlcykgPT4gZWRpdG9yLmdldEN1cnNvcnMoKVxuICAuc29tZShjdXJzb3IgPT4gY3Vyc29yLmdldFNjb3BlRGVzY3JpcHRvcigpXG4gICAgLmdldFNjb3Blc0FycmF5KClcbiAgICAuc29tZShzY29wZSA9PiB2YWxpZFNjb3Blcy5pbmNsdWRlcyhzY29wZSkpKVxuIl19